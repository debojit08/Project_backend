@page "/deleteUser/{CurrentId}"
@using Resturent.Models
@inject UserService objUserService
@inject NavigationManager NavigationManager

<h3>Delete User</h3>
<form>
    <div class="form-row">
        <div class="form-group col-md-6">
            <h3>Are you sure want to delete this?</h3>
        </div>
    </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <input type="button" class="btn btn-primary" @onclick="@Delete" value="Delete" />
                    <input type="button" class="btn" @onclick="@Cancel" value="Cancel" />

                </div>
            </div>
        </div>
</form>


@code {
    [Parameter]
    public string CurrentId { get; set; }

    User objUser = new User();


@*
    private DateTime mDate;
    public bool isActive, isAdmin, status;

    protected override void OnInitialized()
    {
        mDate = DateTime.Now;
    }*@

    protected override async Task OnInitializedAsync()
    {
        objUser = await Task.Run(() => objUserService.GetUserById(Convert.ToInt32(CurrentId)));
    }

    public void Delete()
    {
       @* objUser.MDate = mDate;
        objUser.IsActive = isActive ? true : false;
        objUser.IsAdmin = isAdmin ? true : false;
        objUser.Status = status ? true : false;*@
        objUserService.Delete(objUser);
        NavigationManager.NavigateTo("user");
    }
    void Cancel()
    {
        NavigationManager.NavigateTo("user");
    }
}

